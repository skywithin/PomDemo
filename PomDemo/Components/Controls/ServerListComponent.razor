<ul class="list-unstyled">
	<RepeaterComponent Items="servers">
		<Row Context="server">
			<ServerComponent Server="server" />
		</Row>
	</RepeaterComponent>
</ul>

@code {
	[Parameter]
	public string? SelectedCity { get; set; }

	[Parameter]
	public string? SearchFilter { get; set; }

	private List<Server>? servers;

	protected override void OnParametersSet()
	{
		if (!string.IsNullOrEmpty(SearchFilter))
		{
			servers = ServersRepository.SearchServers(SearchFilter);
		}
		else
		{
			servers =
				!string.IsNullOrEmpty(SelectedCity)
					? ServersRepository.GetServersByCity(SelectedCity)
					: ServersRepository.GetServers();
		}
	}
}
